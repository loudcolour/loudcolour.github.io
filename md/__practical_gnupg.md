<!---
title: 'GnuPG 실전편'
category: Security
language: Korean
--->

# GnuPG 실전편

> 2013년 미국정보기관 전직원인 에드워드 스노든이 폭로한 감시 실태는 충격적이었다.
> 미국 국가안보국(NSA)은 다른 나라 정보기관과 협조하여 전세계 인터넷 트래픽을 감시하고
> 통신내역을 수집하고 있었다. “모든 것을 수집하라”(collect it all)는 것이 그들의 모토였으며
> 디지털 기술은 그런 욕망을 뒷받침할 수 있는 능력이 있다.
>
> — 4장. 반감시와 통신비밀의 보호. 정보인권의 이해, 진보네트워크센터

민간인 사찰과 감시, 해킹과 개인 정보 유출 등, 디지털 공간 상에서의 프라이버시
침해는 디지털 세계의 발전과 함께 현실 속 위협과 공포로 다가왔습니다.
2016년에는 "공공의 안전"을 이유로 한
[테러방지법](https://ko.wikipedia.org/wiki/%EA%B5%AD%EB%AF%BC%EB%B3%B4%ED%98%B8%EC%99%80_%EA%B3%B5%EA%B3%B5%EC%95%88%EC%A0%84%EC%9D%84_%EC%9C%84%ED%95%9C_%ED%85%8C%EB%9F%AC%EB%B0%A9%EC%A7%80%EB%B2%95)이
[반대 필리버스터](https://ko.wikipedia.org/wiki/%ED%85%8C%EB%9F%AC%EB%B0%A9%EC%A7%80%EB%B2%95_%EB%B0%98%EB%8C%80_%ED%95%84%EB%A6%AC%EB%B2%84%EC%8A%A4%ED%84%B0#%EC%9D%B8%EA%B6%8C_%EB%85%BC%EB%9E%80)로
대표되는 국가 권력 남용과 감시에 대한 우려와 함께, 국회 본회의를 통과하는 사건이 있었습니다.
국가에 의한 검열과 자국민 감시는 세계적으로 수많은 국가에서 자행되고 있으며,
언론의 자유와 민주주의적 가치를 훼손하는 수단으로 동작하고 있습니다.
이러한 체제 하에서, 개인이 **스스로의 안전과 자유를 보호하는 목적**으로 사용할 수 있는 도구들이
프라이버시에 관한 논의 이래 꾸준히 개발되어 왔습니다.
이 노트에서는 그러한 도구 중 하나인 GnuPG를 실생활에 적용하여 활용하는 방법을 다룰 것입니다.

## 주의사항

- **이 페이지에 게시된 내용을 시도하여 발생하는 모든 법률적 문제와 사건사고에 대해 필자는
어떠한 책임도 지지 않습니다.**
	- 이 페이지의 내용은 **스스로의 안전과 자유의 보호** 이외의 목적을 상정하고 쓰여지지 않았음을
	재차 강조합니다.
- 절대적으로 안전한 암호화 알고리즘은 존재하지 않음에 유의하세요.
	- 현역으로 사용되고 있는 알고리즘에도 작은 결함이 존재할 수 있습니다.
	- 기술 발전에 의해 기존의 암호 체계가 무력화될 가능성도 존재합니다.
	- 우연에 의해 암호가 밝혀질 가능성도 아주 적게 존재합니다.
- 안전한 암호를 사용하고, 주기적으로 암호를 변경하세요.
	- [Brute-force 공격](https://ko.wikipedia.org/wiki/%EB%AC%B4%EC%B0%A8%EB%B3%84_%EB%8C%80%EC%9E%85_%EA%B3%B5%EA%B2%A9)
	앞에서 암호는 대부분 무력화되고 맙니다. 해결책은 충분히 긴 암호를 사용하고,
	자주 암호를 변경하는 것 밖에 없습니다.
- 되도록이면 임의의 암호를 사용하세요.
	- 개인의 신상정보(주소, 생일, 성명, 가족의 정보 등...)을 이용한 암호는 유추하기 쉽습니다.
	- 신뢰성을 인정받는 별도의 암호 관리 어플리케이션을 이용하는 것도 하나의 방법입니다.
- **절대로** 타인에게 암호키를 건네주지 마세요.
	- 아는 사람이라고 하더라도 암호키를 알려 주어서는 안 됩니다.
	- 모르는 사람이라면 더더욱 알려 주어서는 안 됩니다.
- 사용하는 환경에서 감청, 감시가 일어나고 있는지 항상 확인하세요.
	- 사용하는 기기 상에 [스파이웨어](https://ko.wikipedia.org/wiki/%EC%8A%A4%ED%8C%8C%EC%9D%B4%EC%9B%A8%EC%96%B4)
	등이 설치되어 있는 지 확인하세요.
	- 주변에 감시 도구(CCTV 등...)나 감시원으로 추정되는 사람이 있는지 확인하세요.
	- 소프트웨어의 취약점을 노린 공격을 방지하기 위해 항상 최신 버전을 유지하세요.
- 후술할 스마트카드(OpenPGP 카드)와 Yubico, Nitrokey 등을 적극 활용하세요.
	- 특별히 민감한 정보를 담고 있는 키라면 더더욱.
- 이 노트에서는 macOS의 사용법을 중점적으로 다루고 있습니다. 타 OS에 대해서는
설정, 조작 방법, 동작에 있어서 미묘한 차이가 존재할 수 있습니다.

## GnuPG란 무엇인가

[GnuPG](https://gnupg.org/)는 공개키 암호화 기법(혹은 비대칭키 암호화 기법)을 사용하여 암호화, 복호화를
구현하는 소프트웨어 중 하나입니다. GnuPG를 통해 자신만의 개인키와 공개키를 생성,
공개키를 배포하여 안전한 통신환경을 구축할 수 있습니다.

### 공개키 암호화란?

공개키 암호화 기법이라는 용어는 다소 생소할 수 있다고 생각합니다.
이 노트는 공개키 암호화 기법에 대한 간략한 설명만을 담고 있습니다.
공개키 암호화 기법에 관하여 조금 더 자세한 내용을 알고 싶으신 분들은 
[한국어 위키피디아](https://ko.wikipedia.org/wiki/%EA%B3%B5%EA%B0%9C_%ED%82%A4_%EC%95%94%ED%98%B8_%EB%B0%A9%EC%8B%9D)
(혹은 [영어 위키피디아](https://en.wikipedia.org/wiki/Public-key_cryptography#Algorithms))를 참고하여 주세요.

암호화는 간단히 말해, 어떠한 내용을 가진 파일 등을 지정한 사람 이외의 다른
사람들이 알아볼 수 없도록 변형하는 것입니다.  하지만 암호화한 사람 자신조차도
그 파일 등을 다시 읽어 들일 수 없다면 초기의 목적을 달성할 수 없기 때문에,
원상복구시킬 수 있는 방법을 만들어 내야 합니다. 따라서 원래의 상태로 되돌릴 수
있는 일종의 '단서'를 만들어 자기 자신만 알고 있는 방식을 택하게 됩니다.  이 때,
원래의 상태로 되돌리는 작업을 복호화, 복호화에 쓰이는 단서를 키(열쇠)라고
합니다.

초기에 사용된 암호화와 복호화 방식은 같은 키(다르더라도 서로를 유추할 수 있는 키)를 공유했습니다.
예를 들어, 숫자 '342'를 '13만큼 더하기'라는 '키'로 암호화하면,
'355'라는 결과가 나옵니다. '355'를 보는 일반 사람들은 이것이 '342'를 암호화하여
나온 결과라는 사실을 알 수 없습니다. (키를 알지 못하니까요.)
하지만 이미 '키'인 '13만큼 더하기'를 아는 일부의 사람들은 '13만큼 빼기'라는
복호화 키를 이용하여 '355'의 원래 내용을 알아 낼 수 있습니다.
이런 방법으로 자신들만의 비밀 대화를 주고 받을 수 있는 식이지요.

이를 대칭키 방식이라고 합니다. 위에서 알 수 있듯이, 암호화에 쓰이는 키인 '13만큼 더하기'와
복호화에 쓰이는 키인 '13만큼 빼기'는, 둘 중 하나를 안다면 나머지 하나를 쉽게
유추할 수 있기 때문입니다. 이런 방식은 치명적인 약점을 갖고 있습니다.
그것은 키를 안전하게 전달하는 방법에 문제가 있다는 것입니다.
누군가가 키를 전달하는 대화를 엿듣는다면? 어딘가에 적어논 키를 누가 훔쳐간다면?
심지어는 중간에 키가 유출/도난당했다는 사실조차 알아채지 못한다면?
아주 큰 문제가 발생합니다. 의도하지 않은 사람이 암호화된 내용을 다시
복호화해서 알아볼 수 있게 된다는 것이죠. 키를 정한 사람들이 키가 유출된 사실을
알고 키를 바꾸기 전까지 암호화하여 전달된 내용들은 암호화를 하나마나한 것이 되고만 것입니다.

이러한 문제를 해결하기 위해 비대칭키 방식이 등장했습니다.
비대칭키 방식에서는 암호화에 쓰이는 키와 복호화에 쓰이는 키를 서로 다른 키를 사용합니다.
서로 다르기만 할까요? 중요한 것은 두 키중 하나만을 습득한 사람이 나머지 키 하나를
(사실상) 유추할 수 없다는 것입니다. 구체적으로는,

- 암호화에 쓰이는 키를 *(받는 이의)* 공개키라고 한다.
- 복호화에 쓰이는 키를 *(받는 이의)* 개인키라고 한다.
- 개인키와 공개키 중 하나만을 알 수 있을 때, 이로부터 **나머지 하나를 유추할 수 없다**.
- 보내는 이는 *(받는 이의)* 공개키로 내용을 암호화하여 받는 이에게 보낸다.
- 받는 이는 보내는 이가 보낸 *(받는 이의)* 공개키로 암호화된 내용을 *(받는 이의)*
개인키로 복호화하여 내용을 확인한다.
- *(보내는 이가)* *(받는 이의)* 공개키로 암호화 한 내용은 *(받는 이가)* *(받는 이의)* 개인키로만 복호화할 수 있다.

이라는 것입니다. 이 키의 장점은 받는 이가 개인키만 소중히 보관하면 공개키는 어디에 두던간에
큰 문제가 되지 않는 것입니다. 바로 전의 예제로 돌아가 봅시다.
대칭키 방식을 사용할 때는 누군가가 키를 엿듣거나 훔쳐가면 큰일이었지만,
비대칭키 방식을 사용한다면 별로 큰일은 아닙니다. 직접 엿듣는 사람을
찾아가 공개키를 종이에 써서 건네주어도 상관이 없습니다. 거리에서 큰 소리로
공개키를 외치고 다녀도 상관이 없습니다. 인터넷에 업로드해도 정말로 상관이 없습니다.
아니, 오히려 권장되는 일입니다. 실제로 사람들은 공개키를 자신의 홈페이지를 비롯한 인터넷
웹사이트에 올리기도 합니다. (이에 대해서는 아래쪽 섹션을 참조)
아무리 공개키가 퍼져도 개인키를 알아내는 것은 불가능하니까요.

비대칭키 방식을 사용하면, 키를 안전하게 전달할 수 있음은 물론이고,
많은 사람들에게 키를 효율적으로 전달할 수 있습니다.
위에서 언급한대로 인터넷에 공개키를 올리면, 공개키의 주인에게 연락을 취하고 싶은 누군가가
그것을 보고 공개키를 다운로드 받아 쉽게 암호화한 내용을 공개키의 주인에게 이메일 등으로
보낼 수 있습니다.

![IDEA 설명 이미지, 공개키 암호의 암호화, 복호화의 원리, 서명과 검증의 원리가 나타내어져 있음]()

비대칭키 방식을 활용하는 방법은 이뿐만이 아닙니다.
비대칭키 방식을 활용하는 또 한가지의 방법은 바로 **디지털 서명**입니다.
위에서의 암호화와 복호화에 대한 설명을 보면, 암호화와 복호화는 결국,
주어진 내용에 주어진 키를 적용하여 적용된 내용을 내놓는다는 점에서 같은
작업이라는 것을 알 수 있습니다.
그렇다면 개인키의 주인이 개인키로 어떤 내용을 암호화하는 것은 가능할까요?
가능합니다! 우리는 이러한 암호화를 '서명'이라고 부릅니다.
공개키로 암호화한 내용은 개인키로만 복호화할 수 있듯,
개인키로 암호화한 내용은 공개키로만 복호화할 수 있습니다. 이러한 복호화를
우리는 '검증'이라고 부릅니다.

이러한 기능을 어떤 곳에 사용할 수 있을까요? 어떤 소프트웨어 제작자가 자신이
개발한 소프트웨어를 배포하는 상황을 가정합시다.
개발자는 자신이 개발한 소프트웨어를 그 누구도 수정하지 않은 버전을 배포하려 합니다.
소프트웨어에 멀웨어나 스파이웨어 같은 위험한 부분을 덧대서 몰래 다시 배포하는
나쁜 사람들이 세상에는 존재하기 때문이죠. 하지만 소프트웨어를 다운로드받으려는
일반인은 어느 소프트웨어가 수정을 거친 소프트웨어인지,
자기가 다운로드한 소프트웨어가 수정을 거친 버전인지 아닌지 알 수 있는 방법이 없습니다.
개발자가 '서명'을 하지 않았다면 말이죠. 개발자가 자신의 개인키로 '서명'을 했다면,
다운로드 한 사람은 개발자의 공개키를 받아 와서 '검증'을 할 수 있을 것입니다.
만약에 개발자가 아닌 사람이 별도의 개인키로 서명을 했다면,
절대로 개발자의 공개키로 검증할 수는 없을 것입니다.

따라서 이러한 장점과 기능 덕에 현재까지 비대칭키 방식은 널리 쓰이고 있고,
GnuPG또한 이를 구현한 소프트웨어입니다.
GnuPG는 비대칭키 방식 이외에도 다양한 암호화 알고리즘을 제공하지만, 그중에서도 비대칭키
방식, 즉 공개키 암호화 기법은 다음 3가지입니다.

- **RSA**: 소인수분해와 관련
- **ElGamal**: 이산로그와 관련
- **DSA**: 역시 이산로그와 관련

위 3가지 알고리즘 모두 수학적으로 흥미로운 주제와 연관되어 있기 때문에 아마도 차후에 수학 카테고리에서
다루게 될 것입니다. 하지만 이 노트는 빠르게 GnuPG를 사용하는 방법에 대해 알아보는 것이 목적이므로
여기서는 잠깐 생략하도록 하겠습니다.

## GPG 설치하기

대부분의 Linux 배포판은 각자의 저장소에서 GnuPG를 다운로드하여 설치할 수 있도록 하고 있습니다.
Debian 계열의 배포판이라면 `apt-get`을, Arch Linux라면 `pacman`을,
Red Hat과 Fedora라면 `yum`을 통해 GnuPG를 설치할 수 있습니다.

macOS를 사용중이라면 [Homebrew](https://brew.sh/)를 통해 GnuPG를 설치할 수 있습니다.

```
brew install gnupg
```

추가적으로 GnuPG를 GUI 상에서도 활용할 수 있도록 확장 기능이 담긴 패키지인
`pinentry-mac`을 같이 설치할 수 있습니다.

```
brew install pinentry-mac
```

설치 후에는 `~/.gnupg/gpg-agent.conf` 파일의 마지막 줄에
`pinentry-program /usr/local/bin/pinentry-mac`를 추가해 주세요.
그리고 `gpg-agent`를 잠시동안만 `kill` 해주시면 정상적으로 GUI 기능을 사용할 수 있습니다.

```
echo "pinentry-program /usr/local/bin/pinentry-mac" >> ~/.gnupg/gpg-agent.conf
killall gpg-agent
```

Windows에서는 GnuPG의 Windows 버전인 [GPG4Win](https://www.gpg4win.org/)을
설치하여 GnuPG의 기능을 사용할 수 있습니다.

## PGP 키 구하기

방금 설치한 GnuPG를 적극 활용하기 위해, 공개키를 구하여 암호화한 내용을 이메일로
보내 보고자 합니다. 그렇다면 이메일을 보낼 상대가 사용하는 공개키는
어디에서 구할 수 있을까요? 가장 단순하게는 상대방의 홈페이지에서 구할 수 있거나,
이메일로 사정을 설명하고 공개키를 보내달라고 요청할 수도 있습니다.
어떤식으로 공개키를 구하든지 크게 상관은 없으니까요.
하지만 GPG(를 비롯한 [OpenPGP](https://www.openpgp.org/) 소프트웨어) 사용자들은
보통 '키 서버'라는 곳에 자신의 키를 업로드합니다.

이는 '키 서버'에 키를 업로드하면 몇가지의 장점이 있기 때문인데,
첫째로는, 일일이 이메일 주인의 홈페이지를 찾아가거나 이메일로 공개키를 달라고 요청하는
번거로움이 없기 때문이고, 둘째로는 몇몇 키 서버들은
이메일 인증을 포함한 여러 종류의 인증을 거쳐서,
그 이메일을 사칭하는 가짜 키를 등록할 수 없도록 하기 때문입니다.

이런 키 서버는 여러 곳이 있고, GnuPG에서도 몇가지 키 서버를 등록하여 사용할 수 있습니다.
아래에서는 그런 키 서버 중 하나인 [keys.openpgp.org](https://keys.openpgp.org)
만을 예시로 들었지만, 어느 신뢰할 수 있는 키 서버를 발견했다면, 그 서버를 등록하여
동일하게 사용하면 됩니다.

### keys.openpgp.org

keys.openpgp.org에서는 사용자들이 업로드한 키를 다운로드하여 사용할 수 있습니다.
[메인 페이지](https://keys.openpgp.org/)에 접속하여 이메일 주소,
혹은 키 ID, Fingerprint (아래에서 설명)을 입력하면 바로 등록된 키를 다운로드할 수
있습니다.

GnuPG에서 이 키를 사용하도록 하려면
`keyserver hkps://keys.openpgp.org`를 `~/.gnupg/gpg.conf`에 추가하면 됩니다.

```
echo "keyserver hkps://keys.openpgp.org" >> ~/.gnupg/gpg.conf
```

### Keybase

Keybase 또한 키 서버와 비슷한 역할을 하는 사이트입니다.
후술할 사용 방법은 일반적인 키 서버의 사용 방법과 조금 다르지만,
Twitter나 GitHub와 연동하여 인증의 신뢰성을 강화하는 등 여러 기능을 제공합니다.
간단하게 친구의 Twitter나 GitHub ID를 검색하는 것 만으로 공개키를 찾을 수 있습니다.

## GnuPG 본격적으로 사용하기

다른 어플리케이션과 마찬가지로, GnuPG 또한 터미널 명령줄에서 `man gpg`를 입력하면
상세한 사용법을 읽을 수 있습니다. 하지만 익숙하지 않은 사람이 매뉴얼을 전부 읽고
그대로 사용하기에는 너무 길기 때문에, 꼭 알고 활용하여야 하는 기능 몇가지를
추려서 이 글을 작성하였습니다. 어느정도 사용법이 익숙해지고, 더 자세한 내용이
알고 싶다면 `man` 페이지를 일독하기를 권장합니다.

### 키 생성하기

내가 상대방에게 보내는 메일을 암호화하려면 상대방의 공개키가 필요하지만,
상대방이 나에게 보내는 메일을 암호화하려면 나 자신의 공개키가 필요합니다.
이를 위해서는 오직 나만을 위한 공개키와 개인키 한 쌍을 생성해 줄 필요가 있습니다.

터미널에 다음 명령어를 입력하여 키를 생성해 줍시다.

```
gpg --full-generate-key
```

명령어를 입력하면, 번호를 입력하여 키의 종류와 알고리즘을 선택할 수 있게 됩니다.
잘 모르겠다면, 기본값인 1번, RSA를 선택하면 됩니다. (여유가 있다면 나머지 알고리즘에
대해서도 알아보세요!)

```
Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection?
```

RSA 알고리즘을 선택했다면, 이제는 키의 길이를 정해야 합니다.
키의 길이가 길수록 키의 안전성이 높아지는 동시에 요구하는 성능이 커집니다.
자신이 사용하는 환경과 필요에 맞추어 길이를 선택하면 됩니다.
잘 모르겠다면, 기본값인 2048비트나 최대값인 4096비트를 선택하여도 좋습니다.

```
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048)
```

위의 주의사항에서 언급하였듯이, 암호를 자주 바꾸는 것은 중요합니다.
비대칭키에 대해서도 이는 예외가 아닙니다. GnuPG에서는
음식에 유통기한을 지정하듯이 키의 유효기간을 지정할 수 있습니다.
기본값은 유효기간을 별도로 지정하지 않는 0이지만,
보통은 [2년 이하의 유효기간을 설정하는 것이 권장](https://riseup.net/en/security/message-security/openpgp/best-practices#use-an-expiration-date-less-than-two-years)
되고 있습니다. 유효기간은 나중에 변경할 수 있습니다.

```
Please specify how long the key should be valid.
         0 = key does not expire
      <n>  = key expires in n days
      <n>w = key expires in n weeks
      <n>m = key expires in n months
      <n>y = key expires in n years
Key is valid for? (0)
```

유효기간까지 설정했다면, 이름, 이메일 주소, 코멘트를 입력합니다.

```
Real name: Example Name
Email address: name@example.com
Comment: Example Keys!
You selected this USER-ID:
    "Example Name (Example Keys!) <name@example.com>"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit?
```

입력을 마쳤다면, 비밀번호를 설정하는 화면이 나타날 것입니다.
적절하게 길고, 유추하기 힘든 비밀번호를 설정하세요.
비밀번호까지 설정을 마쳤다면, GnuPG는 적절하게 난수를 생성하여 공개키와 개인키를 생성할 것입니다.

```
pub   rsa2048 2020-04-30 [SC] [expires: 2022-04-30]
      0EE79B849694677F48C44B0D23B93F3D5157EA22
uid                      Example Name (Example Keys!) <name@example.com>
sub   rsa2048 2020-04-30 [E] [expires: 2022-04-30]
```

생성된 개인키를 비롯하여, 여러가지 중요한 파일들은 `~/.gnupg`에 저장됩니다.
도난당하거나 잃어버리지 않도록 소중히 보관하세요.

### 키 목록 보기

그러면 이제 GnuPG에 등록된 키들의 목록을 확인해 볼까요?
방금 생성한 개인키/공개키가 정상적으로 생성되었다면, 목록에서 확인할 수 있어야 합니다.
우선 공개키를 확인합시다.
저장된 공개키들의 목록을 확인하려면
`gpg`에 옵션 `-k`, 혹은 `--list-keys`를 붙여 실행하면 됩니다.

```
gpg -k
```

다음과 같은 결과를 확인할 수 있습니다.

```
pub   rsa2048 2020-04-30 [SC] [expires: 2022-04-30]
      0EE79B849694677F48C44B0D23B93F3D5157EA22
uid           [ultimate] Example Name (Example Keys!) <name@example.com>
sub   rsa2048 2020-04-30 [E] [expires: 2022-04-30]
```

이번에는 개인키들의 목록을 확인합시다.
개인키 목록을 확인하기 위해서는 옵션 `-K` (대문자임에 주의!), 혹은 `--list-secret-keys`를
붙여서 실행하면 됩니다.

```
gpg -K
```

다음과 같은, 공개키 목록과 비슷한 결과를 확인하게 될 것입니다.

```
sec   rsa2048 2020-04-30 [SC] [expires: 2022-04-30]
      0EE79B849694677F48C44B0D23B93F3D5157EA22
uid           [ultimate] Example Name (Example Keys!) <name@example.com>
ssb   rsa2048 2020-04-30 [E] [expires: 2022-04-30]
```

이제 이 목록들을 간단하게 읽는 방법을 알아봅시다.

- 목록에서 한 항목은 `pub`, `sub`, `sec`, `ssb` 으로 시작합니다.
	- 각각 '공개키', '(공개키의) 보조키', '개인키', '(개인키의) 보조키'를 의미합니다.
	- 여기서 '보조키'란, 특정한 역할을 분담하는 키를 의미합니다.
	위의 설명에서는 하나의 키가 암호화와 서명을 모두 처리할 수 있다고 했지만,
	실제로는 *[여러가지 이유](https://wiki.debian.org/Subkeys?action=show&redirect=subkeys)*에 의해, GnuPG를 비롯한 OpenPGP 어플리케이션들은
	암호화의 역할을 맡는 키와 서명의 역할을 맡는 키를 나누어서 관리합니다.
	- 하나의 키에는, 하나의 메인 키가 쌍으로(공개키와 개인키)가 존재하고, 보조키도 쌍으로 존재하지만,
	메인 키와는 다르게 복수 존재할 수 있습니다.
- `rsa2048`은 키에 사용된 알고리즘과 키의 길이를 나타냅니다. 즉, 이 키는 RSA 알고리즘을 사용하였으며,
키의 길이는 2048비트임을 알 수 있습니다.
- `2020-04-30`은 키를 생성한 날짜입니다.
- `[SC]`와 `[E]`는 메인 키 혹은 보조키가 담당하는 역할을 나타냅니다. `S`는 서명(sign)/검증, `C`는 인증(certificate), `E`는 암호화(encrypt)/복호화
의 기능을 수행한다는 의미입니다. 즉 메인 키는 서명과 인증을, 보조키는 암호화 기능을 담당하고 있음을 알 수 있습니다.
('인증'기능에 대해서는 후술하겠습니다.)
- `[expires: 2020-04-30]`은 키가 유효기간을 지나, 무효화되는 날짜입니다.
- `0EE79B849694677F48C44B0D23B93F3D5157EA22`와 같은 40자리의 16진수(즉 160비트)는 이 키의 Fingerprint입니다.
	- Fingerprint는 키의 정보를 바탕으로 한 Hash 값으로, 간단히 말해 다른 키로부터 이 키를 식별하는 고유번호입니다.
	- 짧게 사용하기 위해 마지막 8자리, 혹은 16자리만을 사용하는 경우도 있습니다.
	- 메인 키 쌍과 보조키 쌍은 각자 Fingerprint를 가지며, 메인 키와 보조키로 묶인 하나의 키를 대표하는 Fingerprint는
	메인 키의 Fingerprint 입니다.
- `uid` 다음의 `[ultimate]`은 이 키를 얼마나 신뢰할 수 있을 지를 나타내는 척도입니다. 
	- 경우에 따라 `[ultimate]`, `[unknown]`, `[expired]`로 표시됩니다.

### 공개키/개인키를 불러오기/내보내기

### 키 서버에서 키 불러오기

### 키 서버로 키 전송하기

#### keys.openpgp.org의 경우

### 암호화/복호화

### 서명/검증

### 키 목록 확인하기

`gpg -K` 혹은 `gpg --list-keys`

### 키 서명하기

#### 키 신뢰 레벨 설정하기

### 키 해지하기, 키 해지 인증서 발급하기

키 해지 인증서는 사실 키 생성시에 미리 발급됩니다.
만약에 키가 유출되거나 도난당해 더이상 사용하지 않는다면, 재빨리 발급해 둔 해지 인증서를 업로드하여
더 큰 피해를 막는 것이죠.

발급된 해지 인증서는 `/.gnupg/openpgp-revocs.d`에 저장됩니다.

### 인증하기

### 키 유효기간 연장하기

## GnuPG를 더욱 편리하게

### 웹브라우저 플러그인 Mailvelope

### Keybase 이용하기


## OpenPGP 카드 사용하기

### OpenPGP 카드란 무엇인가

### OpenPGP 카드 구입하기

사실은 OpenPGP 카드 뿐만이 아니라 Yubico와 Nitrokey 또한 이 기능을 지원합니다.


## GnuPG, 고급편?

### 고급: Git Commit에 서명하기

### 고급: SSH 너머로 사용하기

## 맺으며

## 외부 링크

- [keys.openpgp.org - Usage](https://keys.openpgp.org/about/usage): GnuPG 외에 다른 소프트웨어로
keys.openpgp.org 키 서버를 활용하는 방법을 알 수 있습니다.

## 생략할 링크

- [GPG Quickstart Guide](https://medium.com/@acparas/gpg-quickstart-guide-d01f005ca99)
- [디지털보안가이드: 통신 보안](https://slownews.kr/58574)
- [테러방지법 반대 필리버스터](https://ko.wikipedia.org/wiki/%ED%85%8C%EB%9F%AC%EB%B0%A9%EC%A7%80%EB%B2%95_%EB%B0%98%EB%8C%80_%ED%95%84%EB%A6%AC%EB%B2%84%EC%8A%A4%ED%84%B0)
- [Cryptography](https://idea-instructions.com/)
- [Subkey](https://www.void.gr/kargig/blog/2013/12/02/creating-a-new-gpg-key-with-subkeys/)
- [Stack Exchange](https://unix.stackexchange.com/questions/407062/gpg-list-keys-command-outputs-uid-unknown-after-importing-private-key-onto)

